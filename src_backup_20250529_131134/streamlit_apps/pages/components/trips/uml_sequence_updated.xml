<mxGraphModel dx="1422" dy="791" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
  <root>
    <mxCell id="0" />
    <mxCell id="1" parent="0" />
    
    <!-- Titre -->
    <mxCell id="2" value="KlandoDash - Diagramme de su00e9quence des trips" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1" vertex="1" parent="1">
      <mxGeometry x="160" y="20" width="520" height="30" as="geometry" />
    </mxCell>
    
    <!-- Actors and Components -->
    <mxCell id="3" value="02_trips.py" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
      <mxGeometry x="40" y="80" width="100" height="760" as="geometry" />
    </mxCell>
    
    <mxCell id="4" value="trip_components" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
      <mxGeometry x="160" y="80" width="100" height="760" as="geometry" />
    </mxCell>
    
    <mxCell id="5" value="TripProcessor" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
      <mxGeometry x="280" y="80" width="100" height="760" as="geometry" />
    </mxCell>
    
    <mxCell id="6" value="TripsTableManager" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
      <mxGeometry x="400" y="80" width="120" height="760" as="geometry" />
    </mxCell>
    
    <mxCell id="7" value="TripsMapManager" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
      <mxGeometry x="540" y="80" width="120" height="760" as="geometry" />
    </mxCell>
    
    <mxCell id="8" value="Classes spu00e9cialisu00e9es" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
      <mxGeometry x="680" y="80" width="120" height="760" as="geometry" />
    </mxCell>
    
    <!-- Su00e9quence principale -->
    <!-- Note explicative -->
    <mxCell id="9" value="Les classes spu00e9cialisu00e9es comprennent:&#10;- TripsRouteManager&#10;- TripsFinanceManager&#10;- TripsOccupationManager&#10;- TripsMetrics&#10;- TripsPeople&#10;- TripsChat" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
      <mxGeometry x="640" y="150" width="200" height="110" as="geometry" />
    </mxCell>
    
    <!-- Activation 1: get_trip_data -->
    <mxCell id="10" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="3">
      <mxGeometry x="45" y="80" width="10" height="40" as="geometry" />
    </mxCell>
    
    <mxCell id="11" value="get_trip_data()" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="10" target="4">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="95" y="170" as="sourcePoint" />
        <Array as="points">
          <mxPoint x="140" y="180" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="12" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="4">
      <mxGeometry x="45" y="100" width="10" height="60" as="geometry" />
    </mxCell>
    
    <mxCell id="13" value="handler()" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="12" target="5">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="230" y="190" as="sourcePoint" />
        <Array as="points">
          <mxPoint x="260" y="200" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="14" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="5">
      <mxGeometry x="45" y="120" width="10" height="30" as="geometry" />
    </mxCell>
    
    <mxCell id="15" value="retour donnu00e9es (cache)" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="14" target="12">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="230" y="160" as="targetPoint" />
        <Array as="points">
          <mxPoint x="260" y="230" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="16" value="retour donnu00e9es" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="12" target="10">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="100" y="160" as="targetPoint" />
        <Array as="points">
          <mxPoint x="140" y="240" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <!-- Activation 2: display_trips_table -->
    <mxCell id="17" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="3">
      <mxGeometry x="45" y="270" width="10" height="40" as="geometry" />
    </mxCell>
    
    <mxCell id="18" value="display_trips_table(trips_df)" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="17" target="4">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="180" y="300" as="targetPoint" />
        <Array as="points">
          <mxPoint x="140" y="290" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="19" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="4">
      <mxGeometry x="45" y="270" width="10" height="90" as="geometry" />
    </mxCell>
    
    <mxCell id="20" value="_get_table_manager()" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="215" y="310" as="sourcePoint" />
        <Array as="points">
          <mxPoint x="245" y="310" />
          <mxPoint x="245" y="340" />
        </Array>
        <mxPoint x="220" y="340" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    
    <mxCell id="21" value="display_table(trips_df)" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="19" target="6">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="230" y="360" as="sourcePoint" />
        <Array as="points">
          <mxPoint x="320" y="350" />
        </Array>
        <mxPoint x="459.5" y="350" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    
    <mxCell id="22" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="6">
      <mxGeometry x="55" y="350" width="10" height="40" as="geometry" />
    </mxCell>
    
    <mxCell id="23" value="selected_rows" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="22" target="19">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="230" y="360" as="targetPoint" />
        <Array as="points">
          <mxPoint x="310" y="390" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="24" value="selected_rows" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="19" target="17">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="90" y="330" as="targetPoint" />
        <Array as="points">
          <mxPoint x="140" y="360" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <!-- Activation 3: Afficher la carte + mu00e9triques -->
    <mxCell id="25" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="3">
      <mxGeometry x="45" y="420" width="10" height="310" as="geometry" />
    </mxCell>
    
    <mxCell id="26" value="display_map(trips_df, selected_trip)" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="25" target="4">
      <mxGeometry width="80" relative="1" as="geometry">
        <mxPoint x="370" y="460" as="sourcePoint" />
        <mxPoint x="450" y="460" as="targetPoint" />
        <Array as="points">
          <mxPoint x="140" y="440" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="27" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="4">
      <mxGeometry x="45" y="440" width="10" height="60" as="geometry" />
    </mxCell>
    
    <mxCell id="28" value="_get_map_manager()" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="215" y="460" as="sourcePoint" />
        <Array as="points">
          <mxPoint x="245" y="460" />
          <mxPoint x="245" y="490" />
        </Array>
        <mxPoint x="220" y="490" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    
    <mxCell id="29" value="display_map(trips_df, selected_trip)" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="27" target="7">
      <mxGeometry width="80" relative="1" as="geometry">
        <mxPoint x="370" y="460" as="sourcePoint" />
        <mxPoint x="450" y="460" as="targetPoint" />
        <Array as="points">
          <mxPoint x="490" y="500" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="30" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="7">
      <mxGeometry x="55" y="500" width="10" height="30" as="geometry" />
    </mxCell>
    
    <!-- Afficher d'autres mu00e9triques -->
    <mxCell id="31" value="display_route_info, display_financial_info, etc." style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="25" target="4">
      <mxGeometry width="80" relative="1" as="geometry">
        <mxPoint x="370" y="460" as="sourcePoint" />
        <mxPoint x="450" y="460" as="targetPoint" />
        <Array as="points">
          <mxPoint x="140" y="560" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="32" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="4">
      <mxGeometry x="45" y="560" width="10" height="140" as="geometry" />
    </mxCell>
    
    <mxCell id="33" value="_get_route_manager(),&#10;_get_finance_manager(),&#10;_get_metrics(),&#10;_get_occupation_manager()" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" edge="1" parent="1">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="215" y="590" as="sourcePoint" />
        <Array as="points">
          <mxPoint x="245" y="590" />
          <mxPoint x="245" y="620" />
        </Array>
        <mxPoint x="220" y="620" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    
    <mxCell id="34" value="appels aux mu00e9thodes spu00e9cialisu00e9es" style="html=1;verticalAlign=bottom;endArrow=block;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="32" target="8">
      <mxGeometry width="80" relative="1" as="geometry">
        <mxPoint x="370" y="560" as="sourcePoint" />
        <mxPoint x="610" y="630" as="targetPoint" />
        <Array as="points">
          <mxPoint x="490" y="650" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <mxCell id="35" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="8">
      <mxGeometry x="55" y="650" width="10" height="50" as="geometry" />
    </mxCell>
    
    <mxCell id="36" value="affichage des cartes et mu00e9triques" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;" edge="1" parent="1" source="32" target="25">
      <mxGeometry relative="1" as="geometry">
        <mxPoint x="90" y="660" as="targetPoint" />
        <Array as="points">
          <mxPoint x="150" y="700" />
        </Array>
      </mxGeometry>
    </mxCell>
    
    <!-- Note explicative du pattern Lazy Loading -->
    <mxCell id="37" value="Pattern Lazy Loading:&#10;Les managers sont instanciu00e9s&#10;seulement lors de leur premier&#10;appel, u00e9vitant les du00e9pendances&#10;circulaires" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
      <mxGeometry x="160" y="710" width="200" height="80" as="geometry" />
    </mxCell>
    
    <!-- Note explicative de la migration PostgreSQL -->
    <mxCell id="38" value="Donnu00e9es provenant&#10;de PostgreSQL via&#10;SQLAlchemy ORM&#10;avec cache optimisu00e9" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
      <mxGeometry x="280" y="150" width="160" height="60" as="geometry" />
    </mxCell>

  </root>
</mxGraphModel>
