{
  "trip_details": {
    "cache": {
      "enabled": true,
      "ttl_seconds": 300,
      "key_prefix": "trip_details"
    },
    "layout": {
      "card_height": "350",
      "card_width": "50%",
      "card_min_height": "300px"
    },
    "dash_layout": {
      "trip_details_panel": {
        "width": 6,
        "responsive": {
          "xs": 12,
          "sm": 12,
          "md": 6,
          "lg": 6,
          "xl": 6
        }
      },
      "trip_stats_panel": {
        "width": 6,
        "responsive": {
          "xs": 12,
          "sm": 12,
          "md": 6,
          "lg": 6,
          "xl": 6
        }
      },
      "trip_passengers_panel": {
        "width": 12,
        "responsive": {
          "xs": 12,
          "sm": 12,
          "md": 12,
          "lg": 12,
          "xl": 12
        }
      }
    },
    "data_formatting": {
      "datetime_fields": {
        "departure_schedule": {
          "input_format": "timestamp_with_timezone",
          "output_format": "HH:mm",
          "display_format": "HH:mm"
        },
        "departure_date": {
          "input_format": "timestamp_with_timezone", 
          "output_format": "DD/MM/YYYY",
          "display_format": "DD/MM/YYYY"
        },
        "created_at": {
          "input_format": "timestamp_with_timezone",
          "output_format": "DD/MM/YYYY HH:mm",
          "display_format": "DD/MM/YYYY HH:mm"
        },
        "updated_at": {
          "input_format": "timestamp_with_timezone",
          "output_format": "DD/MM/YYYY HH:mm", 
          "display_format": "DD/MM/YYYY HH:mm"
        }
      }
    },
    "trip_stats": {
      "layout": {
        "card_height": "300px",
        "card_width": "100%",
        "card_min_height": "250px"
      },
      "fields": {
        "passenger_price": {
          "label": "Prix par place",
          "type": "currency",
          "currency": "FCFA",
          "display": true,
          "order": 1
        },
        "driver_price": {
          "label": "Prix conducteur", 
          "type": "currency",
          "currency": "FCFA",
          "display": true,
          "order": 2
        },
        "seats_published": {
          "label": "Nombre de places",
          "type": "integer",
          "display": true,
          "order": 3
        },
        "seats_available": {
          "label": "Places disponibles",
          "type": "integer", 
          "display": true,
          "order": 4
        },
        "seats_booked": {
          "label": "Réservations",
          "type": "integer",
          "display": true,
          "order": 5
        },
        "status": {
          "label": "Statut",
          "type": "enum",
          "values": {
            "PENDING": "En attente",
            "ACTIVE": "Actif", 
            "COMPLETED": "Terminé",
            "CANCELLED": "Annulé"
          },
          "display": true,
          "order": 6
        }
      }
    },
    "validation": {
      "required_inputs": ["trip_id"],
      "trip_id": {
        "type": "string",
        "min_length": 10,
        "pattern": "^TRIP-.*"
      }
    },
    "fields": {
      "basic_info": {
        "trip_id": {
          "label": "ID Trajet",
          "type": "string",
          "display": true,
          "order": 1,
          "label_font_size": "12px",
          "value_font_size": "18px",
          "label_width": "120px",
          "icon": "assets/User.png",
          "icon_color": "#667eea",
          "icon_size": "20px"
        },
        "departure_name": {
          "label": "Départ",
          "type": "string",
          "display": true,
          "order": 2,
          "label_font_size": "14px",
          "value_font_size": "24px",
          "label_width": "80px",
          "icon": "assets/depart.png",
          "icon_color": "#28a745",
          "icon_size": "22px"
        },
        "destination_name": {
          "label": "Destination",
          "type": "string",
          "display": true,
          "order": 3,
          "label_font_size": "14px",
          "value_font_size": "24px",
          "label_width": "100px",
          "icon": "assets/arrive.png",
          "icon_color": "#dc3545",
          "icon_size": "22px"
        },
        "departure_schedule": {
          "label": "Heure de départ",
          "type": "datetime",
          "format": "DD/MM/YYYY HH:mm",
          "display": true,
          "order": 4,
          "label_font_size": "12px",
          "value_font_size": "16px",
          "label_width": "140px",
          "icon": "assets/heure.png",
          "icon_color": "#ffc107",
          "icon_size": "18px"
        }
      },
      "driver_info": {
        "driver_id": {
          "label": "ID Conducteur",
          "type": "string",
          "display": true,
          "order": 5
        }
      },
      "trip_details": {
        "seats_published": {
          "label": "Places publiées",
          "type": "integer",
          "display": true,
          "order": 7
        },
        "seats_available": {
          "label": "Places disponibles",
          "type": "integer",
          "display": true,
          "order": 8
        },
        "seats_booked": {
          "label": "Places réservées",
          "type": "integer",
          "display": true,
          "order": 9
        },
        "passenger_price": {
          "label": "Prix passager",
          "type": "currency",
          "currency": "FCFA",
          "display": true,
          "order": 10
        },
        "driver_price": {
          "label": "Prix conducteur",
          "type": "currency",
          "currency": "FCFA",
          "display": true,
          "order": 11
        },
        "distance": {
          "label": "Distance",
          "type": "distance",
          "unit": "km",
          "display": true,
          "order": 12
        }
      },
      "status_info": {
        "status": {
          "label": "Statut",
          "type": "enum",
          "values": {
            "active": "Actif",
            "completed": "Terminé",
            "cancelled": "Annulé",
            "pending": "En attente"
          },
          "display": true,
          "order": 11
        },
        "created_at": {
          "label": "Créé le",
          "type": "datetime",
          "format": "DD/MM/YYYY HH:mm",
          "display": true,
          "order": 13
        },
        "updated_at": {
          "label": "Mis à jour le",
          "type": "datetime",
          "format": "DD/MM/YYYY HH:mm",
          "display": true,
          "order": 14
        }
      }
    },
    "rendering": {
      "template": "trip_details_dynamic",
      "sections": [
        {
          "title": "Informations générales",
          "fields": ["trip_id", "departure_name", "destination_name", "departure_schedule"]
        },
        {
          "title": "Conducteur",
          "fields": ["driver_id"]
        },
        {
          "title": "Détails du trajet",
          "fields": ["seats_published", "seats_available", "seats_booked", "passenger_price", "driver_price", "distance"]
        },
        {
          "title": "Statut",
          "fields": ["status", "created_at", "updated_at"]
        }
      ]
    }
  }
}
